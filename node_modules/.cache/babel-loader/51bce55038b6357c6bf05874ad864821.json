{"ast":null,"code":"var _jsxFileName = \"D:\\\\diploma\\\\git\\\\src\\\\components\\\\Charts\\\\ChartsHandler.js\";\nimport React, { Component } from 'react';\nimport Chart from \"./chart\";\nimport * as Papa from 'papaparse';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Charts extends Component {\n  // const [chartData, setChartData] = useState();\n  constructor() {\n    super();\n\n    this.changeHandler = event => {\n      var self = this;\n      Papa.parse(event.target.files[0], {\n        complete: function (results) {\n          self.getChartData(results.data);\n        }\n      });\n    };\n\n    this.state = {\n      chartData: {}\n    };\n  }\n\n  getChartData(data) {\n    console.log(data);\n    const labels = data[0]; // Ajax calls here\n\n    this.setState({\n      chartData: {\n        labels: labels,\n        datasets: [{\n          label: 'Population',\n          data: data[1],\n          backgroundColor: ['rgba(255, 99, 132, 0.6)', 'rgba(54, 162, 235, 0.6)', 'rgba(255, 206, 86, 0.6)', 'rgba(75, 192, 192, 0.6)', 'rgba(153, 102, 255, 0.6)', 'rgba(255, 159, 64, 0.6)', 'rgba(255, 99, 132, 0.6)']\n        }]\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"charts-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"charts-container__header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"charts-header__text\",\n          children: \"\\u0413\\u0440\\u0430\\u0444\\u0456\\u043A\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"charts-button__container\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"file-upload-field\",\n            type: \"file\",\n            className: \"file-upload-field\",\n            value: \"\",\n            accept: \".csv\",\n            onChange: el => this.changeHandler(el)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), !!Object.keys(this.state.chartData).length && /*#__PURE__*/_jsxDEV(Chart, {\n        chartData: this.state.chartData,\n        location: \"Massachusetts\",\n        legendPosition: \"bottom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Charts;","map":{"version":3,"sources":["D:/diploma/git/src/components/Charts/ChartsHandler.js"],"names":["React","Component","Chart","Papa","Charts","constructor","changeHandler","event","self","parse","target","files","complete","results","getChartData","data","state","chartData","console","log","labels","setState","datasets","label","backgroundColor","render","el","Object","keys","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAO,KAAKC,IAAZ,MAAsB,WAAtB;;;AAEA,MAAMC,MAAN,SAAqBH,SAArB,CAA+B;AAC7B;AACAI,EAAAA,WAAW,GAAG;AACZ;;AADY,SAiCdC,aAjCc,GAiCGC,KAAD,IAAW;AACzB,UAAIC,IAAI,GAAG,IAAX;AACAL,MAAAA,IAAI,CAACM,KAAL,CAAWF,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAX,EAAkC;AAChCC,QAAAA,QAAQ,EAAE,UAAUC,OAAV,EAAmB;AAC3BL,UAAAA,IAAI,CAACM,YAAL,CAAkBD,OAAO,CAACE,IAA1B;AACD;AAH+B,OAAlC;AAKD,KAxCa;;AAEZ,SAAKC,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE;AADA,KAAb;AAGD;;AAEDH,EAAAA,YAAY,CAACC,IAAD,EAAO;AACjBG,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACA,UAAMK,MAAM,GAAGL,IAAI,CAAC,CAAD,CAAnB,CAFiB,CAGjB;;AACA,SAAKM,QAAL,CAAc;AACZJ,MAAAA,SAAS,EAAE;AACTG,QAAAA,MAAM,EAAEA,MADC;AAETE,QAAAA,QAAQ,EAAE,CACR;AACEC,UAAAA,KAAK,EAAE,YADT;AAEER,UAAAA,IAAI,EAAEA,IAAI,CAAC,CAAD,CAFZ;AAGES,UAAAA,eAAe,EAAE,CACf,yBADe,EAEf,yBAFe,EAGf,yBAHe,EAIf,yBAJe,EAKf,0BALe,EAMf,yBANe,EAOf,yBAPe;AAHnB,SADQ;AAFD;AADC,KAAd;AAoBD;;AAWDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,0BAAf;AAAA,gCACE;AAAI,UAAA,SAAS,EAAC,qBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAK,UAAA,SAAS,EAAC,0BAAf;AAAA,iCACI;AACI,YAAA,IAAI,EAAC,mBADT;AAEI,YAAA,IAAI,EAAC,MAFT;AAGI,YAAA,SAAS,EAAC,mBAHd;AAII,YAAA,KAAK,EAAC,EAJV;AAKI,YAAA,MAAM,EAAC,MALX;AAMI,YAAA,QAAQ,EAAGC,EAAD,IAAQ,KAAKpB,aAAL,CAAmBoB,EAAnB;AANtB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAcK,CAAC,CAACC,MAAM,CAACC,IAAP,CAAY,KAAKZ,KAAL,CAAWC,SAAvB,EAAkCY,MAApC,iBACC,QAAC,KAAD;AACI,QAAA,SAAS,EAAE,KAAKb,KAAL,CAAWC,SAD1B;AAEI,QAAA,QAAQ,EAAC,eAFb;AAGI,QAAA,cAAc,EAAC;AAHnB;AAAA;AAAA;AAAA;AAAA,cAfN;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAwBD;;AArE4B;;AAwE/B,eAAeb,MAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport Chart from \"./chart\";\r\nimport * as Papa from 'papaparse'\r\n\r\nclass Charts extends Component {\r\n  // const [chartData, setChartData] = useState();\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      chartData: {}\r\n    }\r\n  }\r\n\r\n  getChartData(data) {\r\n    console.log(data)\r\n    const labels = data[0];\r\n    // Ajax calls here\r\n    this.setState({\r\n      chartData: {\r\n        labels: labels,\r\n        datasets: [\r\n          {\r\n            label: 'Population',\r\n            data: data[1],\r\n            backgroundColor: [\r\n              'rgba(255, 99, 132, 0.6)',\r\n              'rgba(54, 162, 235, 0.6)',\r\n              'rgba(255, 206, 86, 0.6)',\r\n              'rgba(75, 192, 192, 0.6)',\r\n              'rgba(153, 102, 255, 0.6)',\r\n              'rgba(255, 159, 64, 0.6)',\r\n              'rgba(255, 99, 132, 0.6)'\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    });\r\n  }\r\n\r\n  changeHandler = (event) => {\r\n    var self = this;\r\n    Papa.parse(event.target.files[0], {\r\n      complete: function (results) {\r\n        self.getChartData(results.data);\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"charts-container\">\r\n        <div className=\"charts-container__header\">\r\n          <h2 className=\"charts-header__text\">Графіки</h2>\r\n          <div className=\"charts-button__container\">\r\n              <input\r\n                  name=\"file-upload-field\"\r\n                  type=\"file\"\r\n                  className=\"file-upload-field\"\r\n                  value=\"\"\r\n                  accept=\".csv\"\r\n                  onChange={(el) => this.changeHandler(el)}\r\n              />\r\n          </div>\r\n        </div>\r\n          {!!Object.keys(this.state.chartData).length && (\r\n            <Chart\r\n                chartData={this.state.chartData}\r\n                location=\"Massachusetts\"\r\n                legendPosition=\"bottom\"\r\n            />\r\n          )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Charts;\r\n"]},"metadata":{},"sourceType":"module"}